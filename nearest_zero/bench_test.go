package main

import (
	"bytes"
	"io"
	"testing"
)

func BenchmarkGet(b *testing.B) {
	str := []byte("6\n0 7 9 4 8 20")
	for i := 0; i < b.N; i++ {
		buff := bytes.NewBuffer(str)
		get(buff)
	}
}

func BenchmarkManyDomik(b *testing.B) {
	str := []byte("1000000\n473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985")
	for i := 0; i < b.N; i++ {
		buff := bytes.NewBuffer(str)
		get(buff)
	}
}

func BenchmarkGet1(b *testing.B) {
	str := []byte("6\n0 7 9 4 8 20")
	for i := 0; i < b.N; i++ {
		buff := bytes.NewBuffer(str)
		get1(buff, io.Discard)
	}
}

func BenchmarkManyDomik1(b *testing.B) {
	str := []byte("1000000\n473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985")
	for i := 0; i < b.N; i++ {
		buff := bytes.NewBuffer(str)
		get1(buff, io.Discard)
	}
}

func BenchmarkGet2(b *testing.B) {
	str := []byte("6\n0 7 9 4 8 20")
	for i := 0; i < b.N; i++ {
		buff := bytes.NewBuffer(str)
		get2(buff, io.Discard)
	}
}

func BenchmarkManyDomik2(b *testing.B) {
	str := []byte("1000000\n473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985 473956352 520093696 541065217 169869315 239075333 780140550 276824071 555745291 998244364 803209227 4194319 419430416 782237712 127926291 440401946 167772187 56623131 455082016 545259554 400556068 195035172 830472229 171966504 121634857 717226026 153092140 792723501 734003246 979370031 727711792 331350060 838860848 473956400 840958004 390070325 557842487 996147255 591396924 142606396 180355136 90177603 377487428 681574471 973078607 998244433 257949780 253755477 761266262 759169112 232783961 293601373 855638110 218103903 870318175 29360227 18874469 822083687 656408680 461373545 299892843 507510892 471859309 612368493 819986543 708837486 448790638 232783979 681574521 761266304 184549505 859832453 88080519 541065353 255852684 650117262 274727054 746586254 241172633 970981538 247464103 587202730 270532784 327155890 484442291 849346739 8388795 780140734 115343550 249561278 442499266 996147395 803209412 557842629 322961606 218104007 830472392 685768905 912261321 360710347 543162571 727711940 180355278 98985")
	for i := 0; i < b.N; i++ {
		buff := bytes.NewBuffer(str)
		get2(buff, io.Discard)
	}
}
